sudo: required
language: node_js

node_js:
 - 'node'
 - 8

install:
 - npm install

script:
 - npm run lint
 - travis_wait npm run test

services:
 - docker

after_success:
 - sh .travis/deploy_dockerhub.sh
 - test "$TRAVIS_BRANCH" = "master" && sh .travis/deploy_heroku.sh
